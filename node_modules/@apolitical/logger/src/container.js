'use strict';

// External Modules
const { createContainer, asValue, asFunction } = require('awilix');
const path = require('path');
const winston = require('winston');
const winstonGoogle = require('@google-cloud/logging-winston');
// Configuration
const config = require('./config');
// Services
const loggerService = require('./services/logger.service');

const container = createContainer();
container.register({
  // External Modules
  path: asValue(path),
  winston: asValue(winston),
  winstonGoogle: asValue(winstonGoogle),
  // Configuration
  config: asValue(config),
  // Services
  loggerService: asFunction(loggerService).singleton(),
});

module.exports = container;
