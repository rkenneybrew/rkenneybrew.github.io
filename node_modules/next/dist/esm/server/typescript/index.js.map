{"version":3,"sources":["../../../src/server/typescript/index.ts"],"names":["init","getIsClientEntry","isAppEntryFile","isDefaultFunctionExport","isPositionInsideNode","getSource","isInsideApp","NEXT_TS_ERRORS","entryConfig","serverLayer","entryDefault","clientBoundary","metadata","errorEntry","createTSPlugin","modules","ts","typescript","create","info","proxy","Object","k","keys","languageService","x","args","apply","getCompletionsAtPosition","fileName","position","options","prior","isGlobalCompletion","isMemberCompletion","isNewIdentifierLocation","entries","filterCompletionsAtPosition","addCompletionsAtPosition","source","forEachChild","node","push","getCompletionEntryDetails","entryName","formatOptions","preferences","data","entryCompletionEntryDetails","metadataCompletionEntryDetails","getQuickInfoAtPosition","definitions","getDefinitionAtPosition","hasDisallowedReactAPIDefinition","metadataInfo","overriden","getSemanticDiagnostics","isClientEntry","isAppEntry","e","file","category","DiagnosticCategory","Error","code","MISPLACED_CLIENT_ENTRY","errorDiagnostic","isImportDeclaration","diagnostics","getSemanticDiagnosticsForImportDeclaration","isVariableStatement","modifiers","some","m","kind","SyntaxKind","ExportKeyword","getSemanticDiagnosticsForExportVariableStatement","metadataDiagnostics","getSemanticDiagnosticsForExportVariableStatementInClientEntry","getSemanticDiagnosticsForFunctionExport","isFunctionDeclaration","isExportDeclaration","getSemanticDiagnosticsForExportDeclarationInClientEntry","getSemanticDiagnosticsForExportDeclaration","getDefinitionAndBoundSpan","metadataDefinition"],"mappings":"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"}