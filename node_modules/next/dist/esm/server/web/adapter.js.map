{"version":3,"sources":["../../../src/server/web/adapter.ts"],"names":["PageSignatureError","fromNodeHeaders","NextFetchEvent","NextRequest","NextResponse","relativizeURL","waitUntilSymbol","NextURL","stripInternalSearchParams","normalizeRscPath","FETCH_CACHE_HEADER","NEXT_ROUTER_PREFETCH","NEXT_ROUTER_STATE_TREE","RSC","NEXT_QUERY_PARAM_PREFIX","NextRequestHint","constructor","params","input","init","sourcePage","page","request","respondWith","waitUntil","FLIGHT_PARAMETERS","registerInstrumentation","globalThis","_ENTRIES","middleware_instrumentation","register","err","message","registerInstrumentationPromise","ensureInstrumentationRegistered","adapter","isEdgeRendering","self","__BUILD_MANIFEST","url","requestUrl","headers","nextConfig","keys","searchParams","key","value","getAll","startsWith","normalizedKey","substring","length","delete","val","append","buildId","isDataReq","pathname","requestHeaders","flightHeaders","Map","param","toString","toLowerCase","get","set","process","env","__NEXT_NO_MIDDLEWARE_URL_NORMALIZE","String","body","geo","ip","method","Object","defineProperty","enumerable","__incrementalCache","IncrementalCache","appDir","fetchCache","minimalMode","NODE_ENV","fetchCacheKeyPrefix","__NEXT_FETCH_CACHE_KEY_PREFIX","dev","requestProtocol","getPrerenderManifest","version","routes","dynamicRoutes","notFoundRoutes","preview","previewModeId","event","response","handler","Response","TypeError","rewrite","rewriteUrl","forceLocale","host","nextUrl","relativizedRewrite","__NEXT_EXTERNAL_MIDDLEWARE_REWRITE_RESOLVE","match","redirect","redirectURL","finalResponse","next","middlewareOverrideHeaders","overwrittenHeaders","push","join","Promise","all","getUnsupportedModuleErrorMessage","module","__import_unsupported","moduleName","proxy","Proxy","_obj","prop","Error","construct","apply","_target","_this","args","enhanceGlobals","global","configurable"],"mappings":"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"}