{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","FLIGHT_SERVER_CSS_MANIFEST","generateActionId","getActions","isClientComponentEntryModule","isCSSMod","traverseModules","forEachEntryModule","normalizePathSep","getProxiedPluginState","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","ClientReferenceEntryPlugin","constructor","options","dev","appDir","isEdgeServer","useServerActions","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","push","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","addActionEntryList","actionMapsPerEntry","entryModule","internalClientComponentEntryImports","Set","actionEntryImports","Map","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","add","relativeRequest","bundlePath","injectClientEntryAndSSRModules","entryName","absolutePagePath","size","errors","Error","Object","entries","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","tracked","has","clientActionImports","fromClient","Promise","all","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","cssModules","cssImports","assign","data","manifest","JSON","undefined","RawSource","invalidator","outputPath","some","shouldInvalidate","invalidate","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","isCSS","modRequest","query","storeKey","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","test","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","__client_imported__","currentCompilerServerActions","p","id","workers","action","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","mapping","json","node","edge"],"mappings":"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"}