{"version":3,"sources":["../../../../../src/client/components/router-reducer/reducers/server-action-reducer.ts"],"names":["serverActionReducer","fetchServerAction","state","actionId","actionArgs","body","encodeReply","res","fetch","method","headers","Accept","RSC_CONTENT_TYPE_HEADER","NEXT_ROUTER_STATE_TREE","JSON","stringify","tree","nextUrl","NEXT_URL","location","get","redirectLocation","URL","addBasePath","window","origin","undefined","isFlightResponse","result","createFromFetch","Promise","resolve","callServer","actionFlightData","actionResult","action","mutable","serverActionApplied","inFlightServerAction","previousTree","previousUrl","canonicalUrl","createRecordFromThenable","readRecordValue","href","createHrefFromUrl","previousCacheEntry","prefetchCache","set","data","kind","PrefetchKind","TEMPORARY","prefetchTime","Date","now","treeAtTimeOfPrefetch","lastUsedTime","reject","getRedirectError","toString","RedirectType","push","setTimeout","changeByServerResponse","e","status","value"],"mappings":"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"}