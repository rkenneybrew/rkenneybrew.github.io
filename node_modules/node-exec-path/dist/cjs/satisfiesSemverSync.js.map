{"version":3,"sources":["satisfiesSemverSync.ts"],"sourcesContent":["require('./polyfills.ts');\n\nconst path = require('path');\nconst envPathKey = require('env-path-key');\nconst semver = require('semver');\n\nconst constants = require('./constants');\nconst existsSync = require('./existsSync');\n\nconst processVersion = path.join(__dirname, 'workers', 'processVersion.js');\n\nexport type satisfiesSemverSyncOptions = {\n  env?: object;\n};\n\nlet functionExec = null; // break dependencies\nexport default function satisfiesSemverSync(versionString: string, options: satisfiesSemverSyncOptions = {}): string | null {\n  if (!functionExec) functionExec = require('function-exec-sync'); // break dependencies\n\n  const env = options.env ?? process.env;\n  const pathKey = envPathKey(env);\n  const envPaths = env[pathKey].split(path.delimiter);\n\n  for (let i = 0; i < envPaths.length; i++) {\n    const envPath = envPaths[i];\n    const execPath = path.join(envPath, constants.node);\n    if (!existsSync(execPath)) continue;\n    const version = functionExec({ execPath }, processVersion);\n    if (semver.satisfies(version, versionString)) return execPath;\n  }\n\n  return null;\n}\n"],"names":["require","satisfiesSemverSync","path","envPathKey","semver","constants","existsSync","processVersion","join","__dirname","functionExec","versionString","options","env","process","pathKey","envPaths","split","delimiter","i","length","envPath","execPath","node","version","satisfies"],"mappings":"AAAAA;;;;+BAgBA,SAgBC;;;eAhBuBC,mBAAmB;;;AAhB3CD,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAE1B,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC,AAAC;AAC7B,IAAMG,UAAU,GAAGH,OAAO,CAAC,cAAc,CAAC,AAAC;AAC3C,IAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAQ,CAAC,AAAC;AAEjC,IAAMK,SAAS,GAAGL,OAAO,CAAC,aAAa,CAAC,AAAC;AACzC,IAAMM,UAAU,GAAGN,OAAO,CAAC,cAAc,CAAC,AAAC;AAE3C,IAAMO,cAAc,GAAGL,IAAI,CAACM,IAAI,CAACC,SAAS,EAAE,SAAS,EAAE,mBAAmB,CAAC,AAAC;AAM5E,IAAIC,YAAY,GAAG,IAAI,AAAC,EAAC,qBAAqB;AAC/B,SAAST,mBAAmB,CAACU,aAAqB,EAA2D;QAAzDC,OAAmC,GAAnCA,+CAAwC,kBAAF,EAAE;IACzG,IAAI,CAACF,YAAY,EAAEA,YAAY,GAAGV,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC,qBAAqB;QAE1EY,IAAW;IAAvB,IAAMC,GAAG,GAAGD,CAAAA,IAAW,GAAXA,OAAO,CAACC,GAAG,cAAXD,IAAW,cAAXA,IAAW,GAAIE,OAAO,CAACD,GAAG,AAAC;IACvC,IAAME,OAAO,GAAGZ,UAAU,CAACU,GAAG,CAAC,AAAC;IAChC,IAAMG,QAAQ,GAAGH,GAAG,CAACE,OAAO,CAAC,CAACE,KAAK,CAACf,IAAI,CAACgB,SAAS,CAAC,AAAC;IAEpD,IAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,MAAM,EAAED,CAAC,EAAE,CAAE;QACxC,IAAME,OAAO,GAAGL,QAAQ,CAACG,CAAC,CAAC,AAAC;QAC5B,IAAMG,QAAQ,GAAGpB,IAAI,CAACM,IAAI,CAACa,OAAO,EAAEhB,SAAS,CAACkB,IAAI,CAAC,AAAC;QACpD,IAAI,CAACjB,UAAU,CAACgB,QAAQ,CAAC,EAAE,SAAS;QACpC,IAAME,OAAO,GAAGd,YAAY,CAAC;YAAEY,QAAQ,EAARA,QAAQ;SAAE,EAAEf,cAAc,CAAC,AAAC;QAC3D,IAAIH,MAAM,CAACqB,SAAS,CAACD,OAAO,EAAEb,aAAa,CAAC,EAAE,OAAOW,QAAQ,CAAC;KAC/D;IAED,OAAO,IAAI,CAAC;CACb"}